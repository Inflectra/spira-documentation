



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://spiradoc.inflectra.com/Reporting/Custom-Graph-Tutorial/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Custom Graph Tutorial - SpiraDocs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>body,input{font-family:"","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"IBM Plex Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-1302007-6", "https://spiradoc.inflectra.com/")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="amber">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#custom-graphs-tutorial-and-introduction" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://spiradoc.inflectra.com/" title="SpiraDocs" class="md-header-nav__button md-logo">
          
            <img src="../../img/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SpiraDocs
            </span>
            <span class="md-header-nav__topic">
              
                Custom Graph Tutorial
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://www.inflectra.com" title="Go to repository" class="md-source" data-md-source="">
  
  <div class="md-source__repository">
    Inflectra
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://spiradoc.inflectra.com/" title="SpiraDocs" class="md-nav__button md-logo">
      
        <img src="../../img/logo.svg" width="48" height="48">
      
    </a>
    SpiraDocs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://www.inflectra.com" title="Go to repository" class="md-source" data-md-source="">
  
  <div class="md-source__repository">
    Inflectra
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      User Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        User Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/" title="How to use this manual" class="md-nav__link">
      How to use this manual
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Functionality-Overview/" title="Functionality Overview" class="md-nav__link">
      Functionality Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Application-Wide/" title="Common Elements Across the Application" class="md-nav__link">
      Common Elements Across the Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/User-Product-Management/" title="User Management" class="md-nav__link">
      User Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-5" type="checkbox" id="nav-1-5">
    
    <label class="md-nav__link" for="nav-1-5">
      Products
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-5">
        Products
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Product-Homepage/" title="Homepage" class="md-nav__link">
      Homepage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-5-2" type="checkbox" id="nav-1-5-2">
    
    <label class="md-nav__link" for="nav-1-5-2">
      Planning
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-1-5-2">
        Planning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Requirements-Management/" title="Requirements Management" class="md-nav__link">
      Requirements Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Release-Management/" title="Release Management" class="md-nav__link">
      Release Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Document-Management/" title="Document Management" class="md-nav__link">
      Document Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Planning-Board/" title="Planning Board" class="md-nav__link">
      Planning Board
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-5-3" type="checkbox" id="nav-1-5-3">
    
    <label class="md-nav__link" for="nav-1-5-3">
      Testing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-1-5-3">
        Testing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Test-Case-Management/" title="Test Case Management" class="md-nav__link">
      Test Case Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Test-Execution/" title="Test Execution" class="md-nav__link">
      Test Execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Test-Set-Management/" title="Test Set Management" class="md-nav__link">
      Test Set Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Test-Run-Management/" title="Test Run Management" class="md-nav__link">
      Test Run Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Automation-Host-Management/" title="Automation Host Management" class="md-nav__link">
      Automation Host Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Test-Configuration-Management/" title="Test Configuration Management" class="md-nav__link">
      Test Configuration Management
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-5-4" type="checkbox" id="nav-1-5-4">
    
    <label class="md-nav__link" for="nav-1-5-4">
      Tracking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-1-5-4">
        Tracking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Incident-Tracking/" title="Incident Tracking" class="md-nav__link">
      Incident Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Risks-Management/" title="Risk Management" class="md-nav__link">
      Risk Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Task-Tracking/" title="Task Tracking" class="md-nav__link">
      Task Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Resource-Tracking/" title="Resource Tracking" class="md-nav__link">
      Resource Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Source-Code/" title="Source Code" class="md-nav__link">
      Source Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Reports-Center/" title="Reporting" class="md-nav__link">
      Reporting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-6" type="checkbox" id="nav-1-6">
    
    <label class="md-nav__link" for="nav-1-6">
      Programs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-6">
        Programs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Program-Homepage/" title="Homepage" class="md-nav__link">
      Homepage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Program-Releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Program-Planning-Board/" title="Planning Board" class="md-nav__link">
      Planning Board
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Program-Incidents/" title="Incidents" class="md-nav__link">
      Incidents
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Portfolio-Homepage/" title="Portfolio Homepage" class="md-nav__link">
      Portfolio Homepage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Enterprise-Homepage/" title="Enterprise Homepage" class="md-nav__link">
      Enterprise Homepage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Mobile-Access/" title="Mobile Access" class="md-nav__link">
      Mobile Access
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-User-Manual/Appendix-1-Keyboard-Shortcuts/" title="Keyboard Shortcuts" class="md-nav__link">
      Keyboard Shortcuts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Quick Start Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Quick Start Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      Mini How-To Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        Mini How-To Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../HowTo-Guides/Users-orientation/" title="Moving Around the Application" class="md-nav__link">
      Moving Around the Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../HowTo-Guides/Users-profile-management/" title="Managing Your User Profile" class="md-nav__link">
      Managing Your User Profile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../HowTo-Guides/Admins-orientation/" title="Getting to Know Administration" class="md-nav__link">
      Getting to Know Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../HowTo-Guides/Admins-templates/" title="Template Administration" class="md-nav__link">
      Template Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../HowTo-Guides/Login-providers/" title="Login Providers (Oauth)" class="md-nav__link">
      Login Providers (Oauth)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SpiraPlan-Quick-Start-Guide/" title="SpiraPlan" class="md-nav__link">
      SpiraPlan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SpiraTeam-Quick-Start-Guide/" title="SpiraTeam" class="md-nav__link">
      SpiraTeam
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SpiraTest-Quick-Start-Guide/" title="SpiraTest" class="md-nav__link">
      SpiraTest
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Admin Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Admin Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/" title="How to use this guide" class="md-nav__link">
      How to use this guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Installing-SpiraPlan/" title="Installing Spira" class="md-nav__link">
      Installing Spira
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Administration/" title="System Administration" class="md-nav__link">
      System Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      System
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        System
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Workspaces/" title="Workspaces" class="md-nav__link">
      Workspaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Home/" title="System Home page" class="md-nav__link">
      System Home page
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System/" title="System" class="md-nav__link">
      System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Integration/" title="Integration" class="md-nav__link">
      Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/System-Reporting/" title="Reporting" class="md-nav__link">
      Reporting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Product
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Product
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Product-Home/" title="Home page" class="md-nav__link">
      Home page
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Product-General-Settings/" title="General Settings" class="md-nav__link">
      General Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Product-Users/" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Product-Planning/" title="Planning" class="md-nav__link">
      Planning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Product-Changing-Template/" title="Changing Templates" class="md-nav__link">
      Changing Templates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Template
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Template
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Home/" title="Home page" class="md-nav__link">
      Home page
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Documents/" title="Documents" class="md-nav__link">
      Documents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Test-Cases/" title="Test Cases" class="md-nav__link">
      Test Cases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Incidents/" title="Incidents" class="md-nav__link">
      Incidents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Tasks/" title="Tasks" class="md-nav__link">
      Tasks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Risks/" title="Risks" class="md-nav__link">
      Risks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Custom-Properties/" title="Custom Properties" class="md-nav__link">
      Custom Properties
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spira-Administration-Guide/Template-Notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Reporting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Reporting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Custom-Report-Tutorial/" title="Custom Reports Tutorial" class="md-nav__link">
      Custom Reports Tutorial
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Custom Graph Tutorial
      </label>
    
    <a href="./" title="Custom Graph Tutorial" class="md-nav__link md-nav__link--active">
      Custom Graph Tutorial
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-custom-graphs" class="md-nav__link">
    Creating Custom Graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-the-esql-query-used-in-the-graph" class="md-nav__link">
    Writing the ESQL Query Used in the Graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-donut-chart" class="md-nav__link">
    a) Donut Chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-bar-graph" class="md-nav__link">
    b) Bar Graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-line-chart" class="md-nav__link">
    c) Line Chart
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-custom-graphs" class="md-nav__link">
    Viewing Custom Graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-entity-sql-esql" class="md-nav__link">
    Understanding Entity SQL (ESQL)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-sql-syntax-basics" class="md-nav__link">
    Entity SQL Syntax Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-select-clause" class="md-nav__link">
    The SELECT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-from-clause" class="md-nav__link">
    The FROM Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-join-clauses" class="md-nav__link">
    The JOIN Clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-where-clauses" class="md-nav__link">
    The WHERE Clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregations-and-group-by" class="md-nav__link">
    Aggregations and GROUP BY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-and-order-by" class="md-nav__link">
    Sorting and ORDER BY
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#differences-between-esql-and-traditional-database-sql" class="md-nav__link">
    Differences Between ESQL and Traditional Database SQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-support-for" class="md-nav__link">
    No Support for *
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-group-by" class="md-nav__link">
    Changes to Group By
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#esql" class="md-nav__link">
    ESQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    SQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection-based-aggregates" class="md-nav__link">
    Collection-Based Aggregates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-by-clause-usage" class="md-nav__link">
    ORDER BY Clause Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caseaccent-sensitivity" class="md-nav__link">
    Case/Accent Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-by-clause-differences" class="md-nav__link">
    Group By Clause Differences
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_1" class="md-nav__link">
    SQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esql_1" class="md-nav__link">
    ESQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referencing-columns-properties-of-tables-collections" class="md-nav__link">
    Referencing Columns (Properties) of Tables (Collections)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigation-through-objects" class="md-nav__link">
    Navigation Through Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections-of-literals" class="md-nav__link">
    Collections of Literals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-in-literals-and-types" class="md-nav__link">
    Differences in Literals and Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-sql-functionality-not-available-in-entity-sql" class="md-nav__link">
    Database SQL Functionality Not Available in Entity SQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-entity-sql-queries" class="md-nav__link">
    Advanced Entity SQL Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-requirements-addedremoved-over-time" class="md-nav__link">
    1) Requirements Added/Removed Over Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-aggregating-data-over-time-periods" class="md-nav__link">
    2) Aggregating Data Over Time Periods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Custom-Reporting-Tokens/" title="Custom Report Tokens" class="md-nav__link">
      Custom Report Tokens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Optional Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Optional Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      TaraVault
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        TaraVault
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../TaraVault-User-Manual/Activating-TaraVault/" title="Activating" class="md-nav__link">
      Activating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../TaraVault-User-Manual/Provisioning-Projects-&-Users/" title="Provisioning Projects & Users" class="md-nav__link">
      Provisioning Projects & Users
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../TaraVault-User-Manual/Using-Git/" title="Using Git" class="md-nav__link">
      Using Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../TaraVault-User-Manual/Using-Subversion/" title="Using Subversion" class="md-nav__link">
      Using Subversion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      RemoteLaunch
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        RemoteLaunch
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/RemoteLaunch-Guide/" title="Guide" class="md-nav__link">
      Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/HP-UFT--QTP/" title="HP UFT/QTP" class="md-nav__link">
      HP UFT/QTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/SmarteScript/" title="SmarteScript" class="md-nav__link">
      SmarteScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/TestComplete/" title="TestComplete" class="md-nav__link">
      TestComplete
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Selenium/" title="Selenium" class="md-nav__link">
      Selenium
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Squish/" title="Squish" class="md-nav__link">
      Squish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Command-Line/" title="Command-Line" class="md-nav__link">
      Command-Line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/LoadRunner/" title="LoadRunner" class="md-nav__link">
      LoadRunner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/SoapUI/" title="SoapUI" class="md-nav__link">
      SoapUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/FitNesse/" title="FitNesse" class="md-nav__link">
      FitNesse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/NeoLoad/" title="NeoLoad" class="md-nav__link">
      NeoLoad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/TestPartner/" title="TestPartner" class="md-nav__link">
      TestPartner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/BadBoy/" title="BadBoy" class="md-nav__link">
      BadBoy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/JMeter/" title="JMeter" class="md-nav__link">
      JMeter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Ranorex/" title="Ranorex" class="md-nav__link">
      Ranorex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Rational-Functional-Tester/" title="Rational Functional Tester" class="md-nav__link">
      Rational Functional Tester
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/TestingAnywhere/" title="TestingAnywhere" class="md-nav__link">
      TestingAnywhere
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/WebLOAD/" title="WebLOAD" class="md-nav__link">
      WebLOAD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/Worksoft-Certify/" title="Worksoft Certify" class="md-nav__link">
      Worksoft Certify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../RemoteLaunch-User-Guide/ZAPTEST/" title="ZAPTEST" class="md-nav__link">
      ZAPTEST
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SpiraCapture/User-Guide/" title="SpiraCapture" class="md-nav__link">
      SpiraCapture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-Jira-Cloud/" title="Jira Cloud" class="md-nav__link">
      Jira Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-JIRA-5+/" title="Jira Server" class="md-nav__link">
      Jira Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Testing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Testing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-NUnit/" title="NUnit" class="md-nav__link">
      NUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-JUnit/" title="JUnit" class="md-nav__link">
      JUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-TestNG/" title="TestNG" class="md-nav__link">
      TestNG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-Selenium/" title="Selenium" class="md-nav__link">
      Selenium
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-PyUnit/" title="PyUnit" class="md-nav__link">
      PyUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-PyTest/" title="PyTest" class="md-nav__link">
      PyTest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-MS-Test/" title="MS-Test" class="md-nav__link">
      MS-Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-Ruby-TestUnit/" title="Ruby Test::Unit" class="md-nav__link">
      Ruby Test::Unit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-Perl-TAP/" title="Perl TAP" class="md-nav__link">
      Perl TAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-PHPUnit/" title="PHPUnit" class="md-nav__link">
      PHPUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-UnitJS-&-NodeJS/" title="UnitJS & NodeJS" class="md-nav__link">
      UnitJS & NodeJS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-Jasmine/" title="Jasmine" class="md-nav__link">
      Jasmine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit-Testing-Integration/Integrating-with-Jest/" title="Jest" class="md-nav__link">
      Jest
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      IDE Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        IDE Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Visual-Studio-Code/" title="Visual Studio Code" class="md-nav__link">
      Visual Studio Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Visual-Studio/" title="Visual Studio" class="md-nav__link">
      Visual Studio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Jetbrains-IDEs/" title="Jetbrains" class="md-nav__link">
      Jetbrains
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Eclipse--Mylyn/" title="Eclipse" class="md-nav__link">
      Eclipse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Visual-Studio-2010/" title="Visual Studio 2010" class="md-nav__link">
      Visual Studio 2010
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../IDE-Integration/Visual-Studio-2005---2008/" title="Visual Studio 2005-2008" class="md-nav__link">
      Visual Studio 2005-2008
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-5" type="checkbox" id="nav-6-5">
    
    <label class="md-nav__link" for="nav-6-5">
      Bug Tracking/DataSync
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-5">
        Bug Tracking/DataSync
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Setting-up-Data-Synchronization/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-Jira-Cloud/" title="Jira Cloud" class="md-nav__link">
      Jira Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-JIRA-5+/" title="Jira Server" class="md-nav__link">
      Jira Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTest-with-MS-TFS/" title="Azure DevOps" class="md-nav__link">
      Azure DevOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-VersionOne/" title="VersionOne" class="md-nav__link">
      VersionOne
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-GitHub/" title="GitHub" class="md-nav__link">
      GitHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-GitLab/" title="GitLab" class="md-nav__link">
      GitLab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-ServiceNow/" title="ServiceNow" class="md-nav__link">
      ServiceNow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-Asana/" title="Asana" class="md-nav__link">
      Asana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTest-with-Bugzilla/" title="Bugzilla" class="md-nav__link">
      Bugzilla
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-Mantis/" title="Mantis" class="md-nav__link">
      Mantis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTest-with-FogBugz/" title="FogBugz" class="md-nav__link">
      FogBugz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-ClearQuest/" title="ClearQuest" class="md-nav__link">
      ClearQuest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-IBM-RTC/" title="RTC" class="md-nav__link">
      RTC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-Axosoft-14+/" title="Axosoft" class="md-nav__link">
      Axosoft
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-Redmine/" title="Redmine" class="md-nav__link">
      Redmine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-SpiraTeam-with-JIRA-3--4/" title="JIRA 3, 4" class="md-nav__link">
      JIRA 3, 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../External-Bug-Tracking-Integration/Using-Spira-with-OnTime-11/" title="OnTime" class="md-nav__link">
      OnTime
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      VCS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        VCS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-Git/" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-Mercurial/" title="Mercurial" class="md-nav__link">
      Mercurial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-Subversion/" title="Subversion" class="md-nav__link">
      Subversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-Perforce/" title="Perforce" class="md-nav__link">
      Perforce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-TFS/" title="TFS" class="md-nav__link">
      TFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-VSS/" title="VSS" class="md-nav__link">
      VSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Version-Control-Integration/Integrating-with-CVS/" title="CVS" class="md-nav__link">
      CVS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-7" type="checkbox" id="nav-6-7">
    
    <label class="md-nav__link" for="nav-6-7">
      Email
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-7">
        Email
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Email-Integration/Installing-the-Email-Integration-Service/" title="Installing" class="md-nav__link">
      Installing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Email-Integration/Configuring-the-Email-Integration-Service/" title="Configuring" class="md-nav__link">
      Configuring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Email-Integration/Using-the-Email-Integration-Service-with-SpiraTeam/" title="Using" class="md-nav__link">
      Using
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-8" type="checkbox" id="nav-6-8">
    
    <label class="md-nav__link" for="nav-6-8">
      Help Desk
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-8">
        Help Desk
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Help-Desk-Integration/KronoDesk/" title="KronoDesk" class="md-nav__link">
      KronoDesk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Help-Desk-Integration/Zendesk/" title="Zendesk" class="md-nav__link">
      Zendesk
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9" type="checkbox" id="nav-6-9">
    
    <label class="md-nav__link" for="nav-6-9">
      Migration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-9">
        Migration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Importing-from-Microsoft-Excel/" title="Excel" class="md-nav__link">
      Excel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Importing-from-Microsoft-Excel-(Office365)/" title="Excel (Office 365)" class="md-nav__link">
      Excel (Office 365)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Importing-from-Google-Sheets/" title="Google Sheets" class="md-nav__link">
      Google Sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Importing-from-Microsoft-Word/" title="Microsoft Word" class="md-nav__link">
      Microsoft Word
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Importing-from-Microsoft-Project/" title="Microsoft Project" class="md-nav__link">
      Microsoft Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Migrating-from-HP-QualityCenter/" title="HP QualityCenter" class="md-nav__link">
      HP QualityCenter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Project-Backup-and-Migration/" title="Project Backup and Migration" class="md-nav__link">
      Project Backup and Migration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Migrating-from-MS-Test-Manager/" title="MS Test Manager" class="md-nav__link">
      MS Test Manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Migrating-from-HP-ALM/" title="HP ALM" class="md-nav__link">
      HP ALM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Migrating-from-TestRail/" title="TestRail" class="md-nav__link">
      TestRail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Migration-and-Integration/Migrating-from-TestLink/" title="TestLink" class="md-nav__link">
      TestLink
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-10" type="checkbox" id="nav-6-10">
    
    <label class="md-nav__link" for="nav-6-10">
      Build Servers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-10">
        Build Servers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Build-Server-Integration/Jenkins--Hudson/" title="Jenkins/Hudson" class="md-nav__link">
      Jenkins/Hudson
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Build-Server-Integration/JetBrains-TeamCity/" title="JetBrains TeamCity" class="md-nav__link">
      JetBrains TeamCity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Build-Server-Integration/Microsoft-Azure-DevOps-Pipelines/" title="Azure DevOps Pipelines" class="md-nav__link">
      Azure DevOps Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Build-Server-Integration/Atlassian-Bamboo/" title="Atlassian Bamboo" class="md-nav__link">
      Atlassian Bamboo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-11" type="checkbox" id="nav-6-11">
    
    <label class="md-nav__link" for="nav-6-11">
      Requirements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-11">
        Requirements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Requirements-Management-Integration/Importing-From-RequisitePro/" title="RequisitePro" class="md-nav__link">
      RequisitePro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Requirements-Management-Integration/Importing-From-EnterpriseArchitect/" title="EnterpriseArchitect" class="md-nav__link">
      EnterpriseArchitect
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Requirements-Management-Integration/Importing-From-Jama-Contour/" title="Jama Contour" class="md-nav__link">
      Jama Contour
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Requirements-Management-Integration/Importing-From-VersionOne/" title="VersionOne" class="md-nav__link">
      VersionOne
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Requirements-Management-Integration/Importing-From-DOORS/" title="DOORS" class="md-nav__link">
      DOORS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/introduction-to-spira/" title="Introduction to Spira" class="md-nav__link">
      Introduction to Spira
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/roadmap/" title="Product Roadmap" class="md-nav__link">
      Product Roadmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/release-notes-v6/" title="Release Notes for v6" class="md-nav__link">
      Release Notes for v6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/release-notes-v5/" title="Release Notes for v5" class="md-nav__link">
      Release Notes for v5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/release-notes-v4/" title="Release Notes for v4" class="md-nav__link">
      Release Notes for v4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/release-notes-v3/" title="Release Notes for v3" class="md-nav__link">
      Release Notes for v3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/release-notes-v2/" title="Release Notes for v2" class="md-nav__link">
      Release Notes for v2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/legal-notices/" title="Legal Notices" class="md-nav__link">
      Legal Notices
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-custom-graphs" class="md-nav__link">
    Creating Custom Graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-the-esql-query-used-in-the-graph" class="md-nav__link">
    Writing the ESQL Query Used in the Graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-donut-chart" class="md-nav__link">
    a) Donut Chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-bar-graph" class="md-nav__link">
    b) Bar Graph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-line-chart" class="md-nav__link">
    c) Line Chart
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-custom-graphs" class="md-nav__link">
    Viewing Custom Graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-entity-sql-esql" class="md-nav__link">
    Understanding Entity SQL (ESQL)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-sql-syntax-basics" class="md-nav__link">
    Entity SQL Syntax Basics
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-select-clause" class="md-nav__link">
    The SELECT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-from-clause" class="md-nav__link">
    The FROM Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-join-clauses" class="md-nav__link">
    The JOIN Clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-where-clauses" class="md-nav__link">
    The WHERE Clauses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregations-and-group-by" class="md-nav__link">
    Aggregations and GROUP BY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sorting-and-order-by" class="md-nav__link">
    Sorting and ORDER BY
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#differences-between-esql-and-traditional-database-sql" class="md-nav__link">
    Differences Between ESQL and Traditional Database SQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-support-for" class="md-nav__link">
    No Support for *
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-group-by" class="md-nav__link">
    Changes to Group By
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#esql" class="md-nav__link">
    ESQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    SQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection-based-aggregates" class="md-nav__link">
    Collection-Based Aggregates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-by-clause-usage" class="md-nav__link">
    ORDER BY Clause Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caseaccent-sensitivity" class="md-nav__link">
    Case/Accent Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-by-clause-differences" class="md-nav__link">
    Group By Clause Differences
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql_1" class="md-nav__link">
    SQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esql_1" class="md-nav__link">
    ESQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#referencing-columns-properties-of-tables-collections" class="md-nav__link">
    Referencing Columns (Properties) of Tables (Collections)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigation-through-objects" class="md-nav__link">
    Navigation Through Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections-of-literals" class="md-nav__link">
    Collections of Literals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences-in-literals-and-types" class="md-nav__link">
    Differences in Literals and Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-sql-functionality-not-available-in-entity-sql" class="md-nav__link">
    Database SQL Functionality Not Available in Entity SQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-entity-sql-queries" class="md-nav__link">
    Advanced Entity SQL Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-requirements-addedremoved-over-time" class="md-nav__link">
    1) Requirements Added/Removed Over Time
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-aggregating-data-over-time-periods" class="md-nav__link">
    2) Aggregating Data Over Time Periods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    Further Reading
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="custom-graphs-tutorial-and-introduction">Custom Graphs Tutorial and Introduction</h1>
<h2 id="introduction">Introduction</h2>
<p>One of the maxims I always tell developers is that regardless of what you build, customers will never be satisfied with the reports you offer or the integration that you provide. In fact, the two most underestimated tasks in software development are data feeds and reporting. So one of the nice features in our Spira platform is the ability to do custom graphing, so that you are not limited to just the graphs that ship with the system.</p>
<h2 id="creating-custom-graphs">Creating Custom Graphs</h2>
<p>To create a custom report,  go to: Administration &gt; System Administration &gt; Reporting &gt; Edit Graphs:</p>
<p><img alt="" src="../img/custom-graph-tutorial-1.png" /></p>
<p>When you click on the <strong>Edit Graphs</strong> link, you will be taken to the custom graph configuration page where you can add / modify custom graphs.</p>
<p>This page lets you create custom graphs and charts in the system that your users can run in the various products they have access to. Note that the graph definitions themselves are global to the system and therefore available in all products.</p>
<p><img alt="" src="../img/custom-graph-tutorial-2.png" /></p>
<p>You can click the <code class="codehilite"><span class="err">Edit</span></code> button to modify an existing graph, or click <code class="codehilite"><span class="err">Add New Custom Graph</span></code> to create an new one. In either case, you will see the custom graph editing screen.</p>
<p>The graph list page has the following additional operations:</p>
<ul>
<li><strong>Clone</strong>: this will make a copy of the graph with '- Copy' appended to the name</li>
<li><strong>Delete</strong>: this will permanently delete the selected custom graph.</li>
</ul>
<p><img alt="" src="../img/custom-graph-tutorial-3.png" /></p>
<p>On the graph editing page, you can enter the following fields:</p>
<ul>
<li><strong>Name</strong>: This is the short name of the graph that will be displayed to users when they choose to display a custom graph.</li>
<li><strong>Description</strong>: This is the longer description of the graph, and should be used to explain what the data in the graph shows, what the purpose of the graph is and how the data should be interpreted. This is what the user will see when they click on the help link on the graph.</li>
<li><strong>Active</strong>: If you set this to "No", the graph will not be accessible by end users</li>
<li><strong>Position</strong>: use this to specify the relative position of the graph in the list of custom graphs.</li>
<li><strong>Query</strong>: this is where you enter the actual query used to generate the graph data. We shall discuss this below.</li>
</ul>
<h2 id="writing-the-esql-query-used-in-the-graph">Writing the ESQL Query Used in the Graph</h2>
<p>The <strong>Query</strong> box is where you can choose the <strong>Reportable Entity</strong> from the dropdown list and then use that base query to create your own custom query.</p>
<p>We recommend that you first choose the appropriate <strong>reportable entity</strong> from the dropdown list. In the example  below, we have selected the "Test Runs" reportable entity:</p>
<p><img alt="" src="../img/custom-graph-tutorial-4.png" /></p>
<p>This will automatically populate the following query in the <strong>Query</strong> editor:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">value</span> <span class="n">R</span> <span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_TestRuns</span> <span class="k">as</span> <span class="n">R</span> <span class="k">where</span> <span class="n">R</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="err">${</span><span class="n">ProjectId</span><span class="err">}</span>
</pre></div>
</td></tr></table>

<p>This query tells Spira to select all of the rows in the R_TestRuns collection that are in the current product and include all of the columns in the final report. You cannot graph non-numeric columns, so usually we'd recommend clicking <strong>Display Data Grid</strong> to see all of the columns that you can use in the graph:</p>
<p><img alt="" src="../img/custom-graph-tutorial-5.png" /></p>
<p>This will help you decide which columns are important for your graph. You can then adjust the query to only include those columns:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">R</span><span class="p">.</span><span class="n">EXECUTION_STATUS_NAME</span><span class="p">,</span> <span class="k">COUNT</span> <span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">TEST_RUN_ID</span><span class="p">)</span> <span class="k">as</span> <span class="k">COUNT</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_TestRuns</span> <span class="k">as</span> <span class="n">R</span>
<span class="k">where</span> <span class="n">R</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="err">${</span><span class="n">ProjectId</span><span class="err">}</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">R</span><span class="p">.</span><span class="n">EXECUTION_STATUS_NAME</span>
</pre></div>
</td></tr></table>

<p>In this modified query, we have replaced the keyword <strong>value</strong> with the specific column names. We have also added an aggregation function called <strong>COUNT</strong> to count the number of test runs and group by the execution status name column. Spira uses a modified SQL language called Entity SQL created by Microsoft that we'll be discussing in more detail in later articles in this series.</p>
<p>You may have noticed that we had a special token in the query <strong>${ProjectId}</strong>, this token will be evaluated during the generation of the graph and ensures that only items in the current product are included. If you want to include all the items in a specific Program, you should instead use the token <strong>${ProjectGroupId}</strong>. If you don't use either token, the graph will include all the items in the entire system, across all products and programs.</p>
<p>There are some restrictions about the <strong>select</strong> clause of the query:</p>
<ul>
<li>You need to make the first column in the query the category for the x-axis</li>
<li>The other columns need to be purely numeric, and will be used to populate the data series that will be mapped to the x-axis categories.</li>
</ul>
<p>You can test out your modified query by clicking the <strong>Display Data Grid</strong> button again. For our example test runs query above the system will now display:</p>
<p><img alt="" src="../img/custom-graph-tutorial-6.png" /></p>
<p>Then once you have verified the data makes sense, click on the three different <strong>Preview Graph</strong> buttons to see how the data will look as a donut, bar, or line graph.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
<p>For donut graphs, only one data range is supported, for line/bar charts, you can have multiple ranges</p>
</div>
<h3 id="a-donut-chart">a) Donut Chart</h3>
<p><img alt="" src="../img/custom-graph-tutorial-7.png" /></p>
<h3 id="b-bar-graph">b) Bar Graph</h3>
<p><img alt="" src="../img/custom-graph-tutorial-8.png" /></p>
<h3 id="c-line-chart">c) Line Chart</h3>
<p><img alt="" src="../img/custom-graph-tutorial-9.png" /></p>
<p>Once you are happy with your graph design, make sure the <strong>Active</strong> flag is set to <strong>Yes</strong> and then click <strong>Save</strong> to publish the graph for your end users.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you create a graph that doesn't have either ${ProjectId} or ${ProjectGroupId} in the WHERE clause you could end up displaying data to a user that shouldn't have permission to see that data.</p>
</div>
<h2 id="viewing-custom-graphs">Viewing Custom Graphs</h2>
<p>Once published, the custom graphs can be displayed in the main <strong>Reports</strong> dashboard by your end users:</p>
<p><img alt="" src="../img/custom-graph-tutorial-10.png" /></p>
<p>Once you have added an instance of the <strong>Custom Graphs</strong> to your dashboard, you can choose the specific graph, and the visualization type (donut, bar, and line currently):</p>
<p><img alt="" src="../img/custom-graph-tutorial-11.png" /></p>
<p>You can display the data being used to generate the graph by clicking on the data-grid button in the bottom-left:</p>
<p><img alt="" src="../img/custom-graph-tutorial-12.png" /></p>
<p>As with all of the graphs on the reporting dashboard, you can export the data-grid as a CSV / Excel sheet, and export the actual graph as an image (PNG, JPEG, and BMP formats supported).</p>
<h2 id="understanding-entity-sql-esql">Understanding Entity SQL (ESQL)</h2>
<p>This section explains how you can use Entity SQL to write queries to pull back the data you need for your graphs.</p>
<p>The language that we use for creating graphs (and reports) in Spira is called "<em>Entity SQL</em>" (abbreviated to <strong>ESQL</strong>) and is based on the standard database Structured Query Language (SQL) but modified by Microsoft to work against a conceptual object oriented data structure rather than a traditional relational database. According to the <a href="http://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/entity-sql-overview">Microsoft Entity SQL website</a>:</p>
<blockquote>
<p>Entity SQL is a SQL-like language that enables you to query conceptual models in the Entity Framework. Conceptual models represent data as entities and relationships, and Entity SQL allows you to query those entities and relationships in a format that is familiar to those who have used SQL.</p>
</blockquote>
<h2 id="entity-sql-syntax-basics">Entity SQL Syntax Basics</h2>
<p>Similar to database SQL, ESQL supports query that consists of the following parts:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">properties</span> <span class="k">or</span> <span class="k">object</span>
<span class="k">from</span> <span class="n">entity</span> <span class="n">collection</span> <span class="k">as</span> <span class="k">alias</span>
<span class="k">join</span> <span class="n">other</span> <span class="n">entity</span> <span class="n">collections</span> <span class="k">on</span> <span class="n">relationship</span>
<span class="k">where</span> <span class="n">conditions</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">properties</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">properties</span>
</pre></div>
</td></tr></table>

<p>When using ESQL with Spira's reporting system, the entity collections you can use are the ones generated from the 'Add New Query' dropdown discussed in the previous article. For example, you have:</p>
<ul>
<li>SpiraTestEntities.R_Requirements</li>
<li>SpiraTestEntities.R_TestCases</li>
<li>SpiraTestEntities.R_RequirementTestCases</li>
<li>etc...</li>
</ul>
<p>The <strong>R_xxx</strong> prefix is used to distinguish the entities available for reporting from the core entities used by Spira internally for its data access. You will only ever be able query the R_ prefixed entities from within the Spira reporting system.</p>
<p>A simple query used to retrieve all of the requirements in project 1 sorted by hierarchical order then ID would be:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">value</span> <span class="n">RQ</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_Requirements</span> <span class="k">as</span> <span class="n">RQ</span>
<span class="k">where</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">RQ</span><span class="p">.</span><span class="n">INDENT_LEVEL</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span>
</pre></div>
</td></tr></table>

<p>A more complex query that selects specific requirement properties (vs. the entire object), joins to other table (e.g. to get test case object properties as well) would be:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">REQUIREMENT_NAME</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">TEST_CASE_NAME</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_Requirements</span> <span class="k">as</span> <span class="n">RQ</span>
<span class="k">join</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_RequirementTestCases</span> <span class="k">as</span> <span class="n">RT</span> <span class="k">on</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span> <span class="o">=</span> <span class="n">RT</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span>
<span class="k">join</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_TestCases</span> <span class="k">as</span> <span class="n">TC</span> <span class="k">on</span> <span class="n">RT</span><span class="p">.</span><span class="n">TEST_CASE_ID</span> <span class="o">=</span> <span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span> 
<span class="k">where</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="n">NAME</span>
</pre></div>
</td></tr></table>

<p>Finally, you can add on an aggregation function and group by to group by one property and aggregate the other properties against this. For example to get a count of the test cases associated with each requirement, instead of the test case names would be:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">REQUIREMENT_NAME</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span><span class="p">)</span> <span class="k">as</span> <span class="n">TEST_CASE_COUNT</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_Requirements</span> <span class="k">as</span> <span class="n">RQ</span>
<span class="k">join</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_RequirementTestCases</span> <span class="k">as</span> <span class="n">RT</span> <span class="k">on</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span> <span class="o">=</span> <span class="n">RT</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span>
<span class="k">join</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_TestCases</span> <span class="k">as</span> <span class="n">TC</span> <span class="k">on</span> <span class="n">RT</span><span class="p">.</span><span class="n">TEST_CASE_ID</span> <span class="o">=</span> <span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span>
<span class="k">where</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">TEST_CASE_COUNT</span> <span class="k">desc</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span>
</pre></div>
</td></tr></table>

<p>In this last case, we're sorting the list of requirements by the count of associated test cases (in descending order).</p>
<p>So now that we have seen some example queries, let's examine each of the parts of the query in turn:</p>
<h3 id="the-select-clause">The SELECT Clause</h3>
<p>The <strong>select</strong> clause of an ESQL query can consist of either:</p>
<ul>
<li>a single object reference, prefixed by <strong>value</strong>. This is semantically equivalent to SELECT * in database SQL and means evaluate all of the properties of the object.</li>
<li>a comma separated list of discrete object properties. They need to have their object alias prefixes (e.g. RQ in the examples above)</li>
</ul>
<p>So for example we could have:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">value</span> <span class="n">RQ</span>
</pre></div>
</td></tr></table>

<p>that selects all of the properties in the requirements table (i.e. all the columns).</p>
<p>Alternatively you could select specific properties (columns) from one or more object:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">REQUIREMENT_NAME</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">TEST_CASE_NAME</span>
</pre></div>
</td></tr></table>

<p>In this case, we omit the <strong>value</strong> prefix since it's not evaluating all of the properties of an object. Since two of the properties have the same name ("NAME") we are using the <strong>as</strong> operator to give the property returned a unique name. This is important. If you try and return back two properties with the same name, Spira will give the following error message:</p>
<p><img alt="" src="../img/custom-graph-tutorial-13.png" /></p>
<p>You get this error message because the Entity framework will try and create a name like (NAME #1) that is not allowed by the Spira reporting system. So make sure you used actual named aliases when the same property name is used more than once.</p>
<p>Finally you can use the following aggregations in the SELECT clause to aggregate data from properties that are not being grouped (see later for information on the group by clause):</p>
<ul>
<li>SUM</li>
<li>COUNT</li>
<li>MAX</li>
<li>MIN</li>
<li>AVG (average)</li>
</ul>
<p>A full list of <a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/aggregate-canonical-functions">Entity SQL aggregate functions</a> can be found on the Microsoft ESQL reference website.</p>
<p>For example, we can count how many times one property appears relative to another column:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span> <span class="k">as</span> <span class="n">REQUIREMENT_NAME</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">TC</span><span class="p">.</span><span class="n">TEST_CASE_ID</span><span class="p">)</span> <span class="k">as</span> <span class="n">TEST_CASE_COUNT</span>
</pre></div>
</td></tr></table>

<p>Note that in this case we recommend you always specify an alias for the result of the aggregation function using the <strong>as</strong> operator. If you forget, you'll get the same error message as before:</p>
<p><img alt="" src="../img/custom-graph-tutorial-13.png" /></p>
<h3 id="the-from-clause">The FROM Clause</h3>
<p>The <strong>from</strong> </span>clause in ESQL is relatively simple, it contains the primary object collection being queried and an alias that will be used to reference its properties in the other parts of the query:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_Requirements</span> <span class="k">as</span> <span class="n">RQ</span>
</pre></div>
</td></tr></table>

<h3 id="the-join-clauses">The JOIN Clauses</h3>
<p>If you are only going to need to work with the properties from a single object collection then you don't need to have any <strong>join</strong></span> clauses in your query. However if you are going to need data from multiple object collections, then you will need to use the join clause to add in those other collections. A simple join clause looks like:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">join</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_RequirementTestCases</span> <span class="k">as</span> <span class="n">RT</span> <span class="k">on</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span> <span class="o">=</span> <span class="n">RT</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span>
</pre></div>
</td></tr></table>

<p>where you add the name of the entity collection being joined, the alias to refer to it with, and the comparison operator (in this case an equality) used to make the join.</p>
<p>Entity SQL supports the following types of join:</p>
<ul>
<li><strong>inner join</strong> or <strong>join</strong> - Only rows that exist in both sides of the comparison are returned</li>
<li><strong>left outer join</strong> or <strong>left join</strong> - Only rows that exist in the left hand side of the comparison are returned, plus any matching rows from the other side, or NULL if missing.</li>
<li><strong>right outer join</strong> or <strong>right join</strong> - Only rows that exist in the right hand side of the comparison are returned, plus any matching rows from the other side, or NULL if missing.</li>
<li><strong>full outer join</strong> or <strong>full join</strong> - All rows from both sides of the comparison are returned, with NULL values being used for non-matching rows on the alternate side.</li>
<li><strong>cross join</strong> - This query expression produces the Cartesian product of the two collections from the left and right hand sides.</li>
</ul>
<h3 id="the-where-clauses">The WHERE Clauses</h3>
<p>The <strong>where</strong> clause in ESQL lets you filter the results by one or more condition. In addition to the standard ESQL syntax, you can use the special Spira tokens to filter by dynamic data in the system:</p>
<ul>
<li>${ProjectGroupId} - the current program (formerly known as project group)</li>
<li>${ProjectId} - the current product (formerly known as project)</li>
<li>${ReleaseId} the current release, phase, sprint, or iteration</li>
</ul>
<p>The where clause consists of a set of conditions that are joined by a boolean operator:</p>
<ul>
<li><strong>and</strong> (used when condition A and condition B are true)</li>
<li><strong>or</strong> (used when condition A or condition B are true)</li>
</ul>
<p>Generally <strong>and</strong> operators have higher precedence than <strong>or</strong> operators, so you will need to use parenthesis when you want to have <strong>or</strong> operators that are higher precedence than an <strong>and</strong>.</p>
<p>For example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">where</span> <span class="p">(</span><span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">or</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="k">and</span> <span class="n">RQ</span><span class="p">.</span><span class="n">IS_DELETED</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</td></tr></table>

<p>means that you will retrieve any un-deleted requirement that is in project 1 or project 2, whereas this would mean something completely different:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">where</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">or</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">and</span> <span class="n">RQ</span><span class="p">.</span><span class="n">IS_DELETED</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</td></tr></table>

<p>this would retrieve all (including deleted) requirements in project 1, and any un-deleted ones from project 2.</p>
<p>The type of operator you can use in the various conditions include:</p>
<ul>
<li>Comparisons such as:<ul>
<li>= Equals</li>
<li>&lt; Less than</li>
<li>
<blockquote>
<p>Greater than</p>
</blockquote>
</li>
<li>&lt;= Less that or equals</li>
<li>
<blockquote>
<p>= Greater than or equals</p>
</blockquote>
</li>
<li>&lt;&gt; or != not equal to</li>
<li>! not</li>
</ul>
</li>
<li>Mathematical operator such as:<ul>
<li>
<ul>
<li>add</li>
</ul>
</li>
<li>
<ul>
<li>subtract</li>
</ul>
</li>
<li>
<ul>
<li>multiple</li>
</ul>
</li>
<li>/ divide</li>
<li>% modulus (remainder)</li>
</ul>
</li>
</ul>
<p>For example you might have a compound conditional clause such as:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">where</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="k">and</span> <span class="n">RQ</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">&lt;=</span> <span class="mi">4</span> <span class="k">and</span> <span class="n">RQ</span><span class="p">.</span><span class="n">IS_DELETED</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">and</span> <span class="p">(</span><span class="n">RQ</span><span class="p">.</span><span class="n">TASK_ACTUAL_EFFORT</span> <span class="o">+</span> <span class="n">RQ</span><span class="p">.</span><span class="n">TASK_REMAINING_EFFORT</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</td></tr></table>

<h3 id="aggregations-and-group-by">Aggregations and GROUP BY</h3>
<p>In the discussion of the <strong>select</strong> clause we mentioned that you can use <strong>aggregation</strong> functions such as <strong>count, sum, min, max</strong>, etc. If you use these in the <strong>select</strong> clause, then any object properties that are not being aggregated need to be included in the <strong>group by</strong> clause:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">group</span> <span class="k">by</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">NAME</span>
</pre></div>
</td></tr></table>

<p>If you don't have any aggregation functions, you can still use a <strong>group by</strong> clause to simply group similar rows, but generally speaking you omit the <strong>group by</strong> clause if there are no aggregation functions in the <strong>select</strong> list.</p>
<h3 id="sorting-and-order-by">Sorting and ORDER BY</h3>
<p>Finally, you typically want to sort the data by one or more of the object properties, this is done by having an order by clause at the end of the query:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">order</span> <span class="k">by</span> <span class="n">TEST_CASE_COUNT</span> <span class="k">desc</span><span class="p">,</span> <span class="n">RQ</span><span class="p">.</span><span class="n">REQUIREMENT_ID</span> <span class="k">asc</span>
</pre></div>
</td></tr></table>

<p>The syntax of the order by clause is:</p>
<ul>
<li><strong>order by</strong></li>
<li>property name (e.g. <strong>RQ.REQUIREMENT_ID</strong>) or property alias (e.g. <strong>TEST_CASE_COUNT</strong>). If an alias you don't use the object prefix (e.g. <strong>RQ</strong>)</li>
<li><strong>asc</strong> or <strong>desc</strong> for ascending or descending order (if omitted, it will default to ascending)</li>
</ul>
<p>If you sort by a property (e.g. requirement name) that could be held by multiple rows, it is recommended to always add a final sort clause by a guaranteed unique ID such as the primary key <strong>REQUIREMENT_ID</strong> since that will ensure the results are consistent each time. This is known as 'stable sorting'</p>
<h2 id="differences-between-esql-and-traditional-database-sql">Differences Between ESQL and Traditional Database SQL</h2>
<p>Now that we have covered the basics of writing an Entity SQL (ESQL) query, we'll discuss some of the differences and limitations between ESQL and traditional database SQL.</p>
<h3 id="no-support-for">No Support for *</h3>
<p>Database SQL supports the unqualified * syntax as an alias for the entire row, and the qualified * syntax (t.*) as a shortcut for the fields of that table. In addition, database SQL allows for a special <code class="codehilite"><span class="err">count(*)</span></code> aggregate, which includes nulls.</p>
<p>Entity SQL does not support the * construct. Database SQL queries of the form:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">T</span>
</pre></div>
</td></tr></table>

<p>and</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">T1</span><span class="p">.</span><span class="o">*</span> <span class="k">from</span> <span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">...</span>
</pre></div>
</td></tr></table>

<p>can be expressed in Entity SQL as</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">value</span> <span class="n">t</span> <span class="k">from</span> <span class="n">T</span> <span class="k">as</span> <span class="n">t</span>
</pre></div>
</td></tr></table>

<p>and</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">value</span> <span class="n">t1</span> <span class="k">from</span> <span class="n">T1</span> <span class="k">as</span> <span class="n">t1</span><span class="p">,</span> <span class="n">T2</span> <span class="k">as</span> <span class="n">t2</span><span class="p">...</span>
</pre></div>
</td></tr></table>

<p>respectively.</p>
<p>Additionally, these constructs handle inheritance (value substitutability), while the <code class="codehilite"><span class="err">select *</span></code> variants are restricted to top-level properties of the declared type. Entity SQL does not support the <code class="codehilite"><span class="err">count(*)</span></code> aggregate. Use <code class="codehilite"><span class="err">count(0)</span></code> instead.</p>
<h3 id="changes-to-group-by">Changes to Group By</h3>
<p>Entity SQL supports aliasing of <code class="codehilite"><span class="err">group by</span></code> keys. Expressions in the <code class="codehilite"><span class="err">select</span></code> clause and <code class="codehilite"><span class="err">having</span></code> clause must refer to the <code class="codehilite"><span class="err">group by</span></code> keys via these aliases. For example, this Entity SQL syntax:</p>
<h4 id="esql">ESQL</h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">k1</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">a</span><span class="p">),</span> <span class="k">sum</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">t</span><span class="p">.</span><span class="n">b</span> <span class="o">+</span> <span class="n">t</span><span class="p">.</span><span class="k">c</span> <span class="k">AS</span> <span class="n">k1</span>
</pre></div>
</td></tr></table>

<p>...is equivalent to the following database SQL:</p>
<h4 id="sql">SQL</h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">b</span> <span class="o">+</span> <span class="k">c</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="k">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">T</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">b</span> <span class="o">+</span> <span class="k">c</span>
</pre></div>
</td></tr></table>

<h3 id="collection-based-aggregates">Collection-Based Aggregates</h3>
<p>Entity SQL supports two kinds of aggregates.</p>
<p>Collection-based aggregates operate on collections and produce the aggregated result. These can appear anywhere in the query, and do not require a <code class="codehilite"><span class="err">group by</span></code> clause. For example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span> <span class="k">AS</span> <span class="n">a</span><span class="p">,</span> <span class="k">count</span><span class="p">(</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="p">)</span> <span class="k">AS</span> <span class="n">b</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span>
</pre></div>
</td></tr></table>

<p>Entity SQL also supports SQL-style aggregates. For example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span> <span class="k">AS</span> <span class="n">a</span>
</pre></div>
</td></tr></table>

<h3 id="order-by-clause-usage">ORDER BY Clause Usage</h3>
<p>Database SQL allows <code class="codehilite"><span class="err">ORDER BY</span></code> clauses to be specified only in the topmost <code class="codehilite"><span class="err">SELECT .. FROM .. WHERE</span></code> block. In Entity SQL you can use a nested <code class="codehilite"><span class="err">ORDER BY</span></code> expression and it can be placed anywhere in the query, but ordering in a nested query is not preserved.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">-- The following query will order the results by the last name  </span>
<span class="k">SELECT</span> <span class="n">C1</span><span class="p">.</span><span class="n">FirstName</span><span class="p">,</span> <span class="n">C1</span><span class="p">.</span><span class="n">LastName</span>  
        <span class="k">FROM</span> <span class="n">AdventureWorks</span><span class="p">.</span><span class="n">Contact</span> <span class="k">AS</span> <span class="n">C1</span>
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">C1</span><span class="p">.</span><span class="n">LastName</span>  
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">-- In the following query ordering of the nested query is ignored.  </span>
<span class="k">SELECT</span> <span class="n">C2</span><span class="p">.</span><span class="n">FirstName</span><span class="p">,</span> <span class="n">C2</span><span class="p">.</span><span class="n">LastName</span>  
    <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">C1</span><span class="p">.</span><span class="n">FirstName</span><span class="p">,</span> <span class="n">C1</span><span class="p">.</span><span class="n">LastName</span>  
        <span class="k">FROM</span> <span class="n">AdventureWorks</span><span class="p">.</span><span class="n">Contact</span> <span class="k">as</span> <span class="n">C1</span>  
        <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">C1</span><span class="p">.</span><span class="n">LastName</span><span class="p">)</span> <span class="k">as</span> <span class="n">C2</span>  
</pre></div>
</td></tr></table>

<h3 id="caseaccent-sensitivity">Case/Accent Sensitivity</h3>
<p>In database SQL, identifier comparison is based on the settings of the current database and the database platform being used (SQL Server, Oracle, MySQL, etc.). In Entity SQL, identifiers are always case insensitive and accent sensitive (that is, Entity SQL distinguishes between accented and unaccented characters; for example, 'a' is not equal to ''). Entity SQL treats versions of letters that appear the same but are from different code pages as different characters.</p>
<h3 id="group-by-clause-differences">Group By Clause Differences</h3>
<p>Entity SQL also imposes additional restrictions on queries involving <code class="codehilite"><span class="err">group by</span></code> clauses. Expressions in the <code class="codehilite"><span class="err">select</span></code> clause and <code class="codehilite"><span class="err">having</span></code> clause of such queries may only refer to the <code class="codehilite"><span class="err">group by</span></code> keys via their aliases. The following construct is valid in most database SQL variants but are not in Entity SQL:</p>
<h4 id="sql_1">SQL</h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">t</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">t</span><span class="p">.</span><span class="n">y</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span> <span class="k">group</span> <span class="k">BY</span> <span class="n">t</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">t</span><span class="p">.</span><span class="n">y</span>
</pre></div>
</td></tr></table>

<h4 id="esql_1">ESQL</h4>
<p>To do this in Entity SQL:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">k</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">t</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="k">AS</span> <span class="n">k</span>
</pre></div>
</td></tr></table>

<h3 id="referencing-columns-properties-of-tables-collections">Referencing Columns (Properties) of Tables (Collections)</h3>
<p>All column references in Entity SQL must be qualified with the table alias. The following construct (assuming that <code class="codehilite"><span class="err">a</span></code> is a valid column of table <code class="codehilite"><span class="err">T</span></code>) is valid in database SQL but not in Entity SQL.</p>
<p>SQL:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">a</span> <span class="k">FROM</span> <span class="n">T</span>
</pre></div>
</td></tr></table>

<p>The Entity SQL form is</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span> <span class="k">AS</span> <span class="n">A</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">AS</span> <span class="n">t</span>
</pre></div>
</td></tr></table>

<p>The table aliases are optional in the <code class="codehilite"><span class="err">from</span></code> clause. The name of the table is used as the implicit alias. Entity SQL allows the following form as well:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">Tab</span><span class="p">.</span><span class="n">a</span> <span class="k">FROM</span> <span class="n">Tab</span>
</pre></div>
</td></tr></table>

<h3 id="navigation-through-objects">Navigation Through Objects</h3>
<p>Database SQL uses the "." notation for referencing columns of (a row of) a table. Entity SQL extends this notation (borrowed from programming languages) to support navigation through properties of an object.</p>
<p>For example, if <code class="codehilite"><span class="err">p</span></code> is an expression of type Person, the following is the Entity SQL syntax for referencing the city of the address of this person.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">p</span><span class="p">.</span><span class="n">Address</span><span class="p">.</span><span class="n">City</span>   
</pre></div>
</td></tr></table>

<h3 id="collections-of-literals">Collections of Literals</h3>
<p>In database SQL, if you want to refer to a collection of possible values, you would use an IN clause together with a set of values contained within parenthesis:</p>
<p><strong>SQL</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span> <span class="k">FROM</span> <span class="n">T</span> <span class="k">as</span> <span class="n">t</span> <span class="k">WHERE</span> <span class="n">t</span><span class="p">.</span><span class="n">b</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>In Entity SQL, the syntax for a collection of values is based on braces / curly brackets instead:</pre></p>
<p><strong>ESQL</strong></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">t</span><span class="p">.</span><span class="n">a</span> <span class="k">from</span> <span class="n">T</span> <span class="k">as</span> <span class="n">t</span> <span class="k">where</span> <span class="n">t</span><span class="p">.</span><span class="n">b</span> <span class="k">in</span> <span class="err">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="err">}</span>
</pre></div>
</td></tr></table>

<h3 id="differences-in-literals-and-types">Differences in Literals and Types</h3>
<p>There are some differences between how literal values and types are represented in Entity SQL vs. Database SQL:</p>
<ul>
<li>In database SQL, you typically represent boolean values as 1 or 0 whereas in Entity SQL you use <strong>true</strong></span>** and <strong>false</strong></li>
<li>Database SQL uses database schema types such as <strong>VARCHAR, NVARCHAR</strong> and <strong>INT</strong>, whereas Entity SQL uses Microsoft .NET types such as <strong>String</strong> and <strong>Int32</strong></li>
<li>Integer literals can be of type Int32 (123), UInt32 (123U), Int64 (123L), and UInt64 (123UL)</li>
<li>DateTime literals, both date and time parts are mandatory. There are no default values. For example, a date literal would be:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">DATETIME</span> <span class="s1">&#39;2006-12-25 01:01:00.000&#39;</span>
</pre></div>
</td></tr></table>

<ul>
<li>There are Unicode and non-Unicode character string literals. Unicode strings are prepended with N. For example, <code class="codehilite"><span class="err">N&#39;hello&#39;</span></code>.</li>
<li>Typed nulls can be used anywhere. Type inference is not required for typed nulls because the type is known. For example, you can construct a null of type Int16 with the following Entity SQL construct:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="k">null</span> <span class="k">as</span> <span class="n">Int16</span><span class="p">))</span>
</pre></div>
</td></tr></table>

<h3 id="database-sql-functionality-not-available-in-entity-sql">Database SQL Functionality Not Available in Entity SQL</h3>
<p>The following database SQL functionality is not available in Entity SQL.</p>
<ul>
<li><strong>DML Commands</strong> - Entity SQL currently provides no support for DML statements (insert, update, delete).</li>
<li><strong>DDL Commands</strong> - Entity SQL provides no support for DDL in the current version.</li>
<li><strong>Imperative Programming</strong> - Entity SQL provides no support for imperative programming, unlike Transact-SQL. Use a programming language instead.</li>
<li><strong>Grouping Functions</strong> - Entity SQL does not yet provide support for grouping functions (for example, CUBE, ROLLUP, and GROUPING_SET).</li>
<li><strong>Analytic Functions</strong> - Entity SQL does not (yet) provide support for analytic functions.</li>
<li><strong>Built-in Functions, Operators</strong> - Entity SQL supports a subset of most database SQL's built in functions and operators.</li>
</ul>
<h2 id="advanced-entity-sql-queries">Advanced Entity SQL Queries</h2>
<p>Now that we have discussed the differences between traditional database SQL and Entity SQL, we will cover some more advanced queries and functions that customers typically will want to use when creating custom graphs with Spira.</p>
<p>At the top of this tutorial, we outlined a sample ESQL query to get the count of test runs by execution status:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span> <span class="n">R</span><span class="p">.</span><span class="n">EXECUTION_STATUS_NAME</span><span class="p">,</span> <span class="k">COUNT</span> <span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">TEST_RUN_ID</span><span class="p">)</span> <span class="k">as</span> <span class="k">COUNT</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_TestRuns</span> <span class="k">as</span> <span class="n">R</span>
<span class="k">where</span> <span class="n">R</span><span class="p">.</span><span class="n">PROJECT_ID</span> <span class="o">=</span> <span class="err">${</span><span class="n">ProjectId</span><span class="err">}</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">R</span><span class="p">.</span><span class="n">EXECUTION_STATUS_NAME</span>
</pre></div>
</td></tr></table>

<p>As we discussed, when using ESQL queries to display custom graphs, there are some restrictions about the <strong>select</strong> clause of the query:</p>
<ul>
<li>You need to make the first column in the query the category for the x-axis</li>
<li>The other columns need to be purely numeric, and will be used to populate the data series that will be mapped to the x-axis categories.</li>
</ul>
<p>We will now be looking at some specific examples of graphs that users have asked us for help with, that we have some suggestions for...</p>
<h3 id="1-requirements-addedremoved-over-time">1) Requirements Added/Removed Over Time</h3>
<p>For example, lets consider that you want to display a graph of requirements added and removed over time. To get a count of this we can query the <strong>SpiraTestEntities.R_HistoryChangeSets</strong> view to get a count of the changes, filter by additions and deletions, then use a combination of aggregation and the <strong>CAST</strong> operator to count the items added/removed:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span>
<span class="n">R</span><span class="p">.</span><span class="n">CHANGE_DATE</span> <span class="k">as</span> <span class="k">Timestamp</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="k">CASE</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Added&quot;</span> <span class="k">THEN</span> <span class="mi">1</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Deleted&quot;</span> <span class="k">THEN</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">END</span>
<span class="p">)</span> <span class="k">AS</span> <span class="k">Sum</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_HistoryChangeSets</span> <span class="k">as</span> <span class="n">R</span>
<span class="k">where</span>
    <span class="n">R</span><span class="p">.</span><span class="n">ARTIFACT_TYPE_NAME</span> <span class="o">=</span> <span class="ss">&quot;Requirement&quot;</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGE_DATE</span>
</pre></div>
</td></tr></table>

<p>This will display the following data:</p>
<table class="table table-striped">
    <tbody>
        <tr class="Header">
            <th>Timestamp</th>
            <th>Sum</th>
        </tr>
        <tr>
            <td>2019-08-17T02:06:18</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2019-08-23T02:51:18</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>5</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>7</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>5</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>9</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>7</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>6</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>5</td>
        </tr>
        <tr>
            <td>2020-01-14T11:50:18</td>
            <td>7</td>
        </tr>
    </tbody>
</table>

<p>Which when displayed as a graph would look like:</p>
<p><img alt="" src="../img/custom-graph-tutorial-14.png" /></p>
<p>However suppose you want to display this graph by day, not by unique timestamp (a reasonable request), you would use the <strong>TruncateTime</strong> canonical EntitySQL function and combine that with a different way of writing the <strong>GROUP BY</strong> clause:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span>
<span class="n">DatePart</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="k">CASE</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Added&quot;</span> <span class="k">THEN</span> <span class="mi">1</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Deleted&quot;</span> <span class="k">THEN</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">END</span>
<span class="p">)</span> <span class="k">AS</span> <span class="k">Sum</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_HistoryChangeSets</span> <span class="k">as</span> <span class="n">R</span>
<span class="k">where</span>
    <span class="n">R</span><span class="p">.</span><span class="n">ARTIFACT_TYPE_NAME</span> <span class="o">=</span> <span class="ss">&quot;Requirement&quot;</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">TruncateTime</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">CHANGE_DATE</span><span class="p">)</span> <span class="k">as</span> <span class="n">DatePart</span>
</pre></div>
</td></tr></table>

<p>This would now give the following results instead:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;table table-striped&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;Header&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>DatePart<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Sum<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2019-08-17T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2019-08-23T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2020-01-14T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>248<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>which could be graphed as follows:</p>
<p><img alt="" src="../img/custom-graph-tutorial-15.png" /></p>
<h2 id="2-aggregating-data-over-time-periods">2) Aggregating Data Over Time Periods</h2>
<p>A common need is the ability to aggregate data over multiple time periods. For example, in the query above, we had the list of requirements aggregated by day:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;table table-striped&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;Header&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>DatePart<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Sum<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2019-08-17T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2019-08-23T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2020-01-14T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>248<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Suppose we wanted to group the data over a 20 day time period. We would need to modify the query as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">select</span>
<span class="n">DatePart</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="k">CASE</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Added&quot;</span> <span class="k">THEN</span> <span class="mi">1</span>
<span class="k">WHEN</span> <span class="n">R</span><span class="p">.</span><span class="n">CHANGETYPE_NAME</span><span class="o">=</span><span class="ss">&quot;Deleted&quot;</span> <span class="k">THEN</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">END</span>
<span class="p">)</span> <span class="k">AS</span> <span class="k">Sum</span>
<span class="k">from</span> <span class="n">SpiraTestEntities</span><span class="p">.</span><span class="n">R_HistoryChangeSets</span> <span class="k">as</span> <span class="n">R</span>
<span class="k">where</span>
    <span class="n">R</span><span class="p">.</span><span class="n">ARTIFACT_TYPE_NAME</span> <span class="o">=</span> <span class="ss">&quot;Requirement&quot;</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">AddDays</span><span class="p">(</span><span class="n">CreateDateTime</span><span class="p">(</span><span class="k">Year</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">CHANGE_DATE</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">DayOfYear</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">CHANGE_DATE</span><span class="p">)</span><span class="o">/</span><span class="mi">20</span><span class="p">)</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span> <span class="k">as</span> <span class="n">DatePart</span>
</pre></div>
</td></tr></table>

<p>Now when you execute the query, the system is using the following functions to combines the dates down into 20 day ranges:</p>
<ul>
<li><strong>DayOfYear</strong> to get the absolute day number this year (1-366)</li>
<li>Integer division and multiplication by 20 days to get the day converted to the first day in each 20 day range</li>
<li>Using <strong>AddDays</strong> and <strong>CreateDateTime</strong> to compose the full date time again, adding the total number of days back to the year base.</li>
</ul>
<p>When executed, this will display:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;table table-striped&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;Header&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>DatePart<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Sum<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2019-08-09T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>0<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>2020-01-01T00:00:00<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>248<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">tbody</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>or in graphical form:</p>
<p><img alt="" src="../img/custom-graph-tutorial-16.png" /></p>
<h2 id="further-reading">Further Reading</h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/entity-sql-language">Microsoft Entity SQL Reference Documentation</a></li>
<li><a href="https://www.inflectra.com/Support/KnowledgeBase/spira-reports/List.aspx">Custom Reports Section of Inflectra Knowledge Base</a></li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Custom-Report-Tutorial/" title="Custom Reports Tutorial" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Custom Reports Tutorial
              </span>
            </div>
          </a>
        
        
          <a href="../Custom-Reporting-Tokens/" title="Custom Report Tokens" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Custom Report Tokens
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
             Copyright 2006-2020 Inflectra Corporation, All Rights Reserved | en-US |
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/inflectra" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/inflectra" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/inflectra-corporation" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>